{% extends "base.html" %}

{% block title %}Статистика - Stolovaia{% endblock %}

{% block content %}
<div class="profile-container">
    <h1>Статистика системы питания</h1>

    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
        <div style="border: 1px solid #dee2e6; padding: 15px; border-radius: 4px; text-align: center;">
            <h3 style="margin: 0 0 10px 0;">Общая выручка</h3>
            <p style="font-size: 20px; font-weight: bold; margin: 0;">{{ total_revenue }} прот.</p>
            <small>{{ total_meals }} оплаченных приемов</small>
        </div>

        <div style="border: 1px solid #dee2e6; padding: 15px; border-radius: 4px; text-align: center;">
            <h3 style="margin: 0 0 10px 0;">Посещаемость</h3>
            <p style="font-size: 20px; font-weight: bold; margin: 0;">{{ attendance_count }}</p>
            <small>посещений</small>
        </div>

        <div style="border: 1px solid #dee2e6; padding: 15px; border-radius: 4px; text-align: center;">
            <h3 style="margin: 0 0 10px 0;">Завтраки</h3>
            <p style="font-size: 20px; font-weight: bold; margin: 0;">{{ breakfast_attended }}/{{ breakfast_paid }}</p>
            <small>посещено/оплачено</small>
        </div>

        <div style="border: 1px solid #dee2e6; padding: 15px; border-radius: 4px; text-align: center;">
            <h3 style="margin: 0 0 10px 0;">Обеды</h3>
            <p style="font-size: 20px; font-weight: bold; margin: 0;">{{ lunch_attended }}/{{ lunch_paid }}</p>
            <small>посещено/оплачено</small>
        </div>
    </div>

    <div style="margin: 30px 0;">
        <h3>Финансовая сводка</h3>
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 15px;">
            <div style="border: 1px solid #dee2e6; padding: 15px; border-radius: 4px;">
                <h4 style="margin-top: 0;">Завтраки</h4>
                <p><strong>Оплачено:</strong> {{ breakfast_paid }}</p>
                <p><strong>Посещено:</strong> {{ breakfast_attended }}</p>
                <p><strong>Выручка:</strong> {{ breakfast_revenue }} прот.</p>
            </div>
            <div style="border: 1px solid #dee2e6; padding: 15px; border-radius: 4px;">
                <h4 style="margin-top: 0;">Обеды</h4>
                <p><strong>Оплачено:</strong> {{ lunch_paid }}</p>
                <p><strong>Посещено:</strong> {{ lunch_attended }}</p>
                <p><strong>Выручка:</strong> {{ lunch_revenue }} прот.</p>
            </div>
        </div>
    </div>

    <div style="margin-top: 20px;">
        <a href="/admin_purchase/" class="btn">Управление заявками</a>
        <a href="/admin_report/" class="btn">Детальный отчет</a>
        <a href="/admin_reviews/" class="btn">Отзывы</a>
    </div>
</div>

<style>
.btn {
    display: inline-block;
    padding: 10px 15px;
    background: #f5f5f5;
    border: 1px solid #aaa;
    border-radius: 3px;
    margin: 5px;
    text-decoration: none;
    color: #333;
}
.btn:hover {
    background: #e0e0e0;
}
</style>
{% endblock %}