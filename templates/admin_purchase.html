{% extends "base.html" %}

{% block title %}Заявки на закупки - Stolovaia{% endblock %}

{% block content %}
<div class="profile-container">
    <h1>Заявки на закупки</h1>

    {% if requests %}
    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <thead>
            <tr>
                <th style="border: 1px solid #dee2e6; padding: 10px;">Товар</th>
                <th style="border: 1px solid #dee2e6; padding: 10px;">Количество</th>
                <th style="border: 1px solid #dee2e6; padding: 10px;">Цена</th>
                <th style="border: 1px solid #dee2e6; padding: 10px;">Статус</th>
                <th style="border: 1px solid #dee2e6; padding: 10px;">Действия</th>
            </tr>
        </thead>
        <tbody>
            {% for req in requests %}
            <tr>
                <td style="border: 1px solid #dee2e6; padding: 10px;">{{ req[1] }}</td>
                <td style="border: 1px solid #dee2e6; padding: 10px;">{{ req[2] }}</td>
                <td style="border: 1px solid #dee2e6; padding: 10px;">{{ req[3] }}</td>
                <td style="border: 1px solid #dee2e6; padding: 10px;">{{ req[4] }}</td>
                <td style="border: 1px solid #dee2e6; padding: 10px;">
                    {% if req[4] == 'pending' %}
                    <a href="/admin_approve/{{ req[0] }}" style="padding: 5px 10px; background: #d4edda; border: 1px solid #c3e6cb; border-radius: 3px; margin-right: 5px; text-decoration: none; color: #155724;">✓</a>
                    <a href="/admin_reject/{{ req[0] }}" style="padding: 5px 10px; background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 3px; text-decoration: none; color: #721c24;">✗</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>Нет заявок на закупки.</p>
    {% endif %}

    <div style="margin-top: 20px;">
        <a href="/admin_stats/" class="btn">Статистика</a>
        <a href="/admin_report/" class="btn">Отчеты</a>
        <a href="/" class="btn">На главную</a>
    </div>
</div>

<style>
.btn {
    display: inline-block;
    padding: 10px 15px;
    background: #f5f5f5;
    border: 1px solid #aaa;
    border-radius: 3px;
    margin: 5px;
    text-decoration: none;
    color: #333;
}
.btn:hover {
    background: #e0e0e0;
}
</style>
{% endblock %}